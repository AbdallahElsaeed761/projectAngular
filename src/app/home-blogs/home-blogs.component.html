<app-header></app-header>
<div class="container text-center">
  <div class="container row">
      <div class="img col-3">
        <img [src]="'http://localhost:3000/'+user.photo!" class="m-3 mt-3 rounded-circle col-12 mw-10">

          <!-- Modal -->

      </div>
      <div class="col-6">
          <span>{{user.firstname}} {{user.lastname}}</span><br>
          <br><br>
          <!-- <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Follow</button><br /> -->
          <a routerLink="/addblog">Add Blogs</a>&nbsp;&nbsp;&nbsp;
          <!-- <a routerLink="/follower">Followers</a>&nbsp;&nbsp;&nbsp;
          <a routerLink="/following">Following</a> -->
      </div>
  </div>
</div>
<hr/>

<body>
<div *ngFor="let item of blogs" class="container text-center">

  <mat-card class="example-card">
    <mat-card-header>
      <div mat-card-avatar class="example-header-image"></div>
      <mat-card-title>
        <a [routerLink]="['/profile/'+item.auther._id]">{{item.auther.username}}</a><br />
        <p routerLink="/blogs">{{item.title}}</p>
      </mat-card-title>
      <mat-card-subtitle>
        <p routerLink="/blogs">{{item.tags}}</p>
      </mat-card-subtitle>
    </mat-card-header>
    <img class="img-fluid" [src]="'http://localhost:3000/'+item.photo" alt="Photo of a Shiba Inu">
    <mat-card-content>
      <p routerLink="/blogs">{{item.body}}
      </p>
    </mat-card-content>
    <mat-card-actions>
      <ngb-accordion #acc="ngbAccordion" class="col-md-4 text-right" style="margin-right: 15px;">
        <ngb-panel [title]="item.comments.length +' Comments'">

        <span>{{item.comments.length}}</span> Comments
        <ng-template ngbPanelContent>
        <div class="card text-center col-12 " width="100%" *ngFor="let c of item.comments"
        style="background-color: rgb(226, 226, 226); width: fit-content; border-radius: 30px 30px; padding: 10px;">
        <div class="m-1 form-inline">
        <div class="card-body m-2">
        <h5 class="card-title profile">{{c.commenter}}</h5>
        <p class="card-text text-justify">{{c.body}}</p>
        <hr />
        </div>
        </div>
        </div>
        <div class="col-md-12"><input type="text" width="100%" name="Comment" class="commentinput"
        placeholder="Write a comment....." #addcomment>
        <input type="button" value="send" (click)="addComment(item._id,addcomment.value)">
        </div>
        </ng-template>

        </ngb-panel>

        </ngb-accordion>
    </mat-card-actions>
  </mat-card>

  </div>

  </body>



